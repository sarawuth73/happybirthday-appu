<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡∏∞‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‡∏ß‡∏ß</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Override main-container styles to make it larger */
        .main-container {
            max-width: 1000px !important; /* Increased to 1000px as requested */
            width: 90% !important; /* Using percentage for better responsiveness */
            padding: 50px !important; /* Increased from 40px */
            margin-top: 100px !important; /* Increased from 80px */
            min-height: 800px !important; /* Increased to 800px as requested */
        }
        
        /* Ensure content-display fills the main-container in all steps */
        .content-display {
            max-width: 1000px !important; /* Expand to full container width */
            min-height: 800px !important; /* Expand to full container height */
            width: 100% !important; /* Ensure it takes full width */
            height: 100% !important; /* Ensure it takes full height */
            border: none !important; /* Remove border */
            box-shadow: none !important; /* Remove shadow for minimalist look */
            background: transparent !important; /* Make background transparent */
            padding: 0 !important; /* Remove padding */
            margin: 0 !important; /* Remove margin */
        }
        
        /* Style for navigation buttons - fixed at bottom, smaller, minimalist */
        .nav-buttons {
            position: fixed !important; /* Fixed at bottom */
            bottom: 20px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            width: auto !important;
            display: flex !important;
            justify-content: center !important;
            gap: 10px !important;
            z-index: 1000 !important;
            background: transparent !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        
        /* Style for individual navigation buttons */
        .nav-btn {
            padding: 8px 15px !important; /* Smaller padding */
            font-size: 0.9rem !important; /* Smaller font */
            border: none !important; /* Remove border */
            border-radius: 20px !important; /* Rounded buttons */
            background-color: rgba(255, 255, 255, 0.9) !important;
            color: #FF1493 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;
            min-width: 120px !important; /* Make buttons wider */
        }
        
        .nav-btn:hover {
            background-color: #FF1493 !important;
            color: white !important;
            transform: translateY(-2px) !important;
        }
        
        .nav-btn:active {
            transform: translateY(0) !important;
        }
        
        .nav-btn:disabled {
            background-color: #f0f0f0 !important;
            color: #999 !important;
            cursor: not-allowed !important;
            transform: none !important;
        }
        
        /* Specific styling for step 2 next button to make it wider */
        #step2 .nav-buttons .nav-btn:last-child {
            min-width: 150px !important; /* Even wider for the next button */
            padding: 10px 20px !important; /* Slightly more padding */
        }
        
        /* Fade-in animation for messages */
        .fade-in {
            opacity: 0;
            animation: fadeIn 1.5s ease-in forwards;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Add delay classes for sequential fading */
        .fade-in-delay-1 {
            animation-delay: 0.3s;
        }
        
        .fade-in-delay-2 {
            animation-delay: 0.6s;
        }
        
        .fade-in-delay-3 {
            animation-delay: 0.9s;
        }
    </style>
</head>
<body>
    <h1 class="top-heading">Happy Birthday ‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‡∏ß‡∏ß‡∏ßüíñ!</h1>
    
    <!-- Background bubbles -->
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    
    <!-- Decorative elements -->
    <div class="decoration">üéâ</div>
    <div class="decoration">üéÇ</div>
    <div class="decoration">üéà</div>
    <div class="decoration">üéÅ</div>
    
    <!-- Step 1 decorative images -->
    <div class="step1-decoration decoration-1">üéà</div>
    <div class="step1-decoration decoration-2">üéâ</div>
    <div class="step1-decoration decoration-3">üéÄ</div>
    <div class="step1-decoration decoration-4">üíñ</div>
    
    <!-- Celebration effect container -->
    <div class="celebration" id="celebration"></div>

    <div class="main-container">
        <!-- Add audio element for intro music -->
        <audio id="introMusic" preload="auto">
            <source src="mp3/intro.mp3" type="audio/mpeg">
        </audio>
        <!-- Add audio element for glitch sound -->
        <audio id="glitchMusic" preload="auto">
            <source src="mp3/Glitch.mp3" type="audio/mpeg">
        </audio>
        
        <div class="steps-container">
            <!-- Step 1: Welcome Message -->
            <div class="step-section active" id="step1">
                <div class="content-display">
                    <div id="message1-container" class="typing-container">
                        <div id="message1" class="typing-text">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î ‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‡∏ß‡∏ß‡∏ßüíñ</div>
                        <div id="cursor1" class="typing-cursor"></div>
                    </div>
                    <div id="cake-container" style="font-size: 3rem; margin: 20px 0; position: relative;">üéÇ</div>
                    <div id="message2-container" class="typing-container hidden">
                        <div id="message2" class="typing-text-slow">‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å‡πÜ ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡∏∞!</div>
                        <div id="cursor2" class="typing-cursor"></div>
                    </div>
                    <div id="message3-container" class="typing-container hidden">
                        <div id="message3" class="typing-text-slow">‡∏°‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏•‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞</div>
                        <div id="cursor3" class="typing-cursor-final"></div>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button id="startButton" class="nav-btn hidden pulse-button" onclick="nextStep()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡∏¢ &rarr;</button>
                </div>
            </div>
            
            <!-- Step 2: Birthday Card -->
            <div class="step-section" id="step2">
                <div class="content-display">
            <!-- Step 4: Invitation Card Only (All games removed) -->
                    <div class="envelope-3d-container" id="envelope3DContainer" onclick="openEnvelope3D()" style="width: 100% !important; max-width: 1000px !important; height: 700px !important; cursor: pointer !important;">
                        <div class="envelope-3d" style="height: 100% !important;">
                            <div class="envelope-back"></div>
                            <div class="envelope-front">
                                <div class="envelope-flap"></div>
                                <div class="envelope-body"></div>
                            </div>
                            <div class="letter-3d" style="top: 20px !important; left: 20px !important; right: 20px !important; bottom: 20px !important;">
                                <div class="letter-header-3d">
                                    <div class="letter-date-3d">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 6 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568</div>
                                    <div class="letter-salutation-3d">‡∏ñ‡∏∂‡∏á ‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‡∏ß‡∏ß‡∏ß... üíñ</div>
                                </div>
                                <div class="letter-body-3d">
                                    <p>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡∏∞‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‡∏ß‡∏ß üéâüéÇ</p>
                                    <p>‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏µ ‡πÜ ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏≠‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏∞ ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‡∏´‡∏ß‡∏±‡∏á‡πÑ‡∏ß‡πâ‡∏Ñ‡πà‡∏≠‡∏¢ ‡πÜ ‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏´‡∏≤ ‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏≤‡∏Å ‡πÜ ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ ‡∏Å‡πá‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ô‡∏î‡∏µ ‡πÜ ‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á ‡πÜ ‡πÄ‡∏™‡∏°‡∏≠</p>
                                    <p>‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å ‡∏°‡∏µ‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡πÉ‡∏ô‡πÅ‡∏ö‡∏ö‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏°‡∏±‡∏ô‡∏°‡∏µ‡∏°‡∏≤‡∏Å‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏™‡∏î‡πÉ‡∏™‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏ó‡πà‡∏≤ üòä ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡πÑ‡∏°‡πà‡πÄ‡∏à‡πá‡∏ö‡πÑ‡∏°‡πà‡∏õ‡πà‡∏ß‡∏¢ ‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡∏ö‡∏ß‡∏Å‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ô‡∏£‡∏≠‡∏ö ‡πÜ</p>
                                    <p>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞ üéÅ‚ú® ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏î‡∏à‡∏≥‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏¢‡∏¥‡πâ‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏∂‡∏Å‡∏ñ‡∏∂‡∏á‡πÄ‡∏•‡∏¢ üå∑</p>
                                </div>
                                <div class="letter-signature-3d">
                                    <div>‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏≠‡πá‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏∞‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏¢,</div>
                                    <div class="signature-name-3d">‡∏û‡∏µ‡πà‡πÅ‡∏ú‡∏ô</div>
                                </div>
                            </div>
                        </div>
                        <div class="envelope-label-3d">‡∏Å‡∏î‡πÄ‡∏õ‡∏¥‡∏î‡∏ã‡∏≠‡∏á‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢</div>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button  class="nav-btn pulse-button" onclick="prevStep()">&larr; ‡∏Å‡∏•‡∏±‡∏ö</button>
                    <button  class="nav-btn hidden pulse-button" onclick="showStep(3)">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ &rarr;</button>
                </div>
            </div>
            
            <!-- Step 3: Photo Gallery -->
            <div class="step-section" id="step3">
                <div class="content-display">
                    <h3 class="gallery-title">‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥</h3>
                    <div class="memory-gallery-3d" id="memoryGallery3D">
                        <div class="image-container-3d">
                            <div id="singleImageContainer" class="image-display-area">
                                <!-- Images will be displayed here -->
                            </div>
                            <button class="small-btn-3d" id="prevImageBtnOverlay" onclick="prevImage()" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); z-index: 10;">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="small-btn-3d" id="nextImageBtnOverlay" onclick="nextImage()" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); z-index: 10;">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div id="captionDisplay" class="caption-display-area">
                            <!-- Captions will be displayed here -->
                        </div>
                    </div>
                </div>
                <div class="nav-buttons" style="position: relative; width: 100%; margin-top: auto; justify-content: center; gap: 20px; margin-bottom: 30px;">
                    <button class="nav-btn" onclick="showStep(2)" style="min-width: 120px;">&larr; ‡∏Å‡∏•‡∏±‡∏ö</button>
                    <button class="nav-btn hidden" id="nextButton" onclick="showStep(4)" disabled style="min-width: 120px;">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ &rarr;</button>
                </div>
            </div>
            
            <!-- Step 4: Invitation Card Only (All games removed) -->
            <div class="step-section" id="step4">
                <div class="content-display">
                    <div style="background: radial-gradient(circle at center, #000 0%, #060606 50%, #000 100%); display: flex; justify-content: center; align-items: center; flex-direction: column; font-family: 'Courier New', monospace; color: #e6e6e6; min-height: 100%; width: 100%; padding: 60px 50px 180px 50px; border-radius: 15px; position: relative; margin: 0 auto; max-width: 1000px;">
                        <!-- Mist effect -->
                        <div style="position: absolute; width: 200%; height: 200%; background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.08), transparent 80%); animation: mistMove 15s infinite linear; z-index: 0;"></div>
                        
                        <!-- Scan line effect -->
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: rgba(255,0,0,0.2); animation: scan 3s linear infinite; z-index: 1;"></div>
                        
                        <!-- Glitch effect -->
                        <div style="position: absolute; width: 100%; height: 100%; background: repeating-linear-gradient(0deg, rgba(255,0,0,0.05) 0, transparent 2px, rgba(0,0,0,0.8) 4px); mix-blend-mode: overlay; animation: glitchMove 2s infinite; z-index: 1;"></div>
                        
                        <style>
                            @keyframes mistMove {
                                0% { transform: translate(0, 0); }
                                50% { transform: translate(-10%, 5%); }
                                100% { transform: translate(0, 0); }
                            }
                            
                            @keyframes scan {
                                0% { top: 0; }
                                100% { top: 100%; }
                            }
                            
                            @keyframes glitchMove {
                                0%, 100% { opacity: 0.2; }
                                50% { opacity: 0.5; }
                            }
                            
                            @keyframes flicker {
                                0%, 18%, 20%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
                                19%, 21%, 24%, 54%, 56% { opacity: 0.2; }
                            }
                            
                            @keyframes pulseGlow {
                                0%, 100% {
                                    box-shadow: 0 0 10px rgba(255,0,0,0.3),
                                                0 0 30px rgba(255,0,0,0.1);
                                }
                                50% {
                                    box-shadow: 0 0 25px rgba(255,0,0,0.6),
                                                0 0 60px rgba(255,0,0,0.4);
                                }
                            }
                            
                            /* Enhanced glitch effects - more intense */
                            @keyframes glitch-1 {
                                0% { transform: translate(0); }
                                10% { transform: translate(-5px, 5px); }
                                20% { transform: translate(5px, -5px); }
                                30% { transform: translate(-5px, 5px); }
                                40% { transform: translate(5px, -5px); }
                                50% { transform: translate(-5px, 5px); }
                                60% { transform: translate(5px, -5px); }
                                70% { transform: translate(-5px, 5px); }
                                80% { transform: translate(5px, -5px); }
                                90% { transform: translate(-5px, 5px); }
                                100% { transform: translate(0); }
                            }
                            
                            @keyframes glitch-2 {
                                0% { transform: translate(0); }
                                10% { transform: translate(7px, -7px); }
                                20% { transform: translate(-7px, 7px); }
                                30% { transform: translate(7px, -7px); }
                                40% { transform: translate(-7px, 7px); }
                                50% { transform: translate(7px, -7px); }
                                60% { transform: translate(-7px, 7px); }
                                70% { transform: translate(7px, -7px); }
                                80% { transform: translate(-7px, 7px); }
                                90% { transform: translate(7px, -7px); }
                                100% { transform: translate(0); }
                            }
                            
                            @keyframes glitch-3 {
                                0% { transform: translate(0); }
                                10% { transform: translate(10px, -10px); }
                                20% { transform: translate(-10px, 10px); }
                                30% { transform: translate(10px, -10px); }
                                40% { transform: translate(-10px, 10px); }
                                50% { transform: translate(10px, -10px); }
                                60% { transform: translate(-10px, 10px); }
                                70% { transform: translate(10px, -10px); }
                                80% { transform: translate(-10px, 10px); }
                                90% { transform: translate(10px, -10px); }
                                100% { transform: translate(0); }
                            }
                            
                            @keyframes glitch-shake {
                                0% { transform: translate(0); }
                                10% { transform: translate(-10px, 0); }
                                20% { transform: translate(10px, 0); }
                                30% { transform: translate(-10px, 0); }
                                40% { transform: translate(10px, 0); }
                                50% { transform: translate(-10px, 0); }
                                60% { transform: translate(10px, 0); }
                                70% { transform: translate(-10px, 0); }
                                80% { transform: translate(10px, 0); }
                                90% { transform: translate(-10px, 0); }
                                100% { transform: translate(0); }
                            }
                            
                            /* Text glitch layers */
                            .glitch-text {
                                position: relative;
                                display: inline-block;
                                animation: glitch-shake 0.3s infinite;
                            }
                            
                            .glitch-text::before,
                            .glitch-text::after {
                                content: attr(data-text);
                                position: absolute;
                                top: 0;
                                left: 0;
                                width: 100%;
                                height: 100%;
                            }
                            
                            .glitch-text::before {
                                left: 2px;
                                text-shadow: -2px 0 #ff00c1, 2px 0 #00fff9;
                                clip: rect(44px, 450px, 56px, 0);
                                animation: glitch-1 0.5s infinite linear alternate-reverse;
                                color: #ff00c1;
                            }
                            
                            .glitch-text::after {
                                left: -2px;
                                text-shadow: -2px 0 #00fff9, 2px 2px #ff00c1;
                                clip: rect(44px, 450px, 56px, 0);
                                animation: glitch-2 0.5s infinite linear alternate-reverse;
                                color: #00fff9;
                            }
                            
                            /* Button glitch effect */
                            .glitch-btn {
                                position: relative;
                                overflow: hidden;
                                animation: glitch-shake 0.4s infinite;
                            }
                            
                            .glitch-btn::before {
                                content: attr(data-text);
                                position: absolute;
                                top: 0;
                                left: 0;
                                width: 100%;
                                height: 100%;
                                text-shadow: 2px 0 #ff00c1, -2px 0 #00fff9;
                                clip: rect(24px, 550px, 56px, 0);
                                animation: glitch-3 0.3s infinite linear alternate-reverse;
                                color: #ff00c1;
                            }
                            
                            .glitch-btn::after {
                                content: attr(data-text);
                                position: absolute;
                                top: 0;
                                left: 0;
                                width: 100%;
                                height: 100%;
                                text-shadow: 2px 0 #00fff9, -2px 0 #ff00c1;
                                clip: rect(24px, 550px, 56px, 0);
                                animation: glitch-1 0.4s infinite linear alternate-reverse;
                                color: #00fff9;
                            }
                        </style>
                        
                        <h2 class="glitch-text" data-text="‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ‚Äú‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏ä‡∏¥‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤‚Äù" style="z-index: 2; margin-bottom: 100px; margin-top: 80px; letter-spacing: 2px; font-weight: normal; color: #eee; text-shadow: 0 0 10px rgba(255, 0, 0, 0.5); animation: flicker 3s infinite; font-size: 2.2rem;">‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ‚Äú‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏ä‡∏¥‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤‚Äù</h2>
                        
                        <button id="acceptBtn" class="glitch-btn" data-text="‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç" style="z-index: 2; position: relative; background: none; border: 1px solid rgba(255, 0, 0, 0.4); color: #ff4d4d; font-family: 'Courier New', monospace; padding: 25px 60px; cursor: pointer; text-transform: uppercase; letter-spacing: 3px; font-size: 1.4rem; transition: 0.3s; animation: pulseGlow 2s infinite; text-shadow: 0 0 8px rgba(255, 0, 0, 0.5); margin-top: 70px;">‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏ç</button>
                        
                        <audio id="clickSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1ebfc24771.mp3?filename=open-letter-14702.mp3" preload="auto"></audio>
                        <audio id="bgSound" src="https://cdn.pixabay.com/download/audio/2022/11/12/audio_640e3ef33c.mp3?filename=dark-ambient-background-ambient-125107.mp3" preload="auto" loop></audio>
                        <audio id="whisper" src="https://cdn.pixabay.com/download/audio/2021/09/09/audio_2de6e39d4d.mp3?filename=dark-whisper-9068.mp3" preload="auto"></audio>
                        
                        <script>
                            const btn = document.getElementById('acceptBtn');
                            const clickSound = document.getElementById('clickSound');
                            const bgSound = document.getElementById('bgSound');
                            const whisper = document.getElementById('whisper');
                            
                            window.onload = () => {
                                bgSound.volume = 0.5;
                                bgSound.play();
                                setTimeout(() => {
                                    whisper.volume = 0.6;
                                    whisper.play();
                                }, 2500);
                            }
                            
                            btn.addEventListener('click', () => {
                                // Apply dark theme to entire system immediately
                                document.body.style.background = 'radial-gradient(circle, #000000, #1a0000)';
                                document.body.style.color = '#fff';
                                
                                clickSound.play();
                                btn.textContent = "‚ö†Ô∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...";
                                btn.disabled = true;
                                btn.style.boxShadow = "0 0 40px rgba(255,0,0,0.9)";
                                document.querySelector('h2').textContent = "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢...";
                                
                                // Show welcome message and start countdown
                                setTimeout(() => {
                                    document.querySelector('h2').innerHTML = "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö ‚Äú‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß‚Äù <br> <br> <span id='countdown' style='font-size:2rem; color:#ff0000; text-shadow: 0 0 20px rgba(255, 0, 0, 0.8); font-family: monospace; letter-spacing: 5px;'>5</span>";
                                    btn.textContent = "‚ö†Ô∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡∏°...";
                                    
                                    // Dynamic button text state management
                                    let count = 5;
                                    const countdownElement = document.getElementById('countdown');
                                    
                                    const countdownInterval = setInterval(() => {
                                        count--;
                                        if (countdownElement) {
                                            countdownElement.textContent = count;
                                            countdownElement.style.fontSize = '3rem';
                                            countdownElement.style.color = '#ff0000';
                                            countdownElement.style.textShadow = '0 0 20px rgba(255, 0, 0, 0.8)';
                                            // Add pulsing effect
                                            countdownElement.style.animation = 'pulse 0.5s infinite alternate';
                                        }
                                        
                                        if (count <= 0) {
                                            clearInterval(countdownInterval);
                                            btn.textContent = "‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡πÉ‡∏ô‡πÄ‡∏Å‡∏°‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...";
                                            // Auto start game 1 after countdown
                                            setTimeout(startGame1, 1000);
                                        }
                                    }, 1000);
                                }, 3000);
                            });
                            
                            // Add pulse animation to the style
                            const style = document.createElement('style');
                            style.innerHTML = `
                                @keyframes pulse {
                                    0% { transform: scale(1); opacity: 1; }
                                    100% { transform: scale(1.1); opacity: 0.8; }
                                }
                            `;
                            document.head.appendChild(style);
                            
                            // Function to start game 1
                            function startGame1() {
                                // Stop glitch music when starting Game 1
                                const glitchMusic = document.getElementById('glitchMusic');
                                if (glitchMusic) {
                                    glitchMusic.pause();
                                    glitchMusic.currentTime = 0; // Reset to beginning
                                }
                                
                                // This would transition to game 1
                                // Implementing the new memory game
                                const mainContainer = document.querySelector('.main-container');
                                mainContainer.innerHTML = `
                                    <div style="background: radial-gradient(circle, #000000, #1a0000); color: #ff0000; font-family: 'Courier New', monospace; text-align: center; padding: 20px; height: 100%; width: 100%; max-width: 1000px !important; box-sizing: border-box; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                                        <h2 style="font-size: 1.8rem; margin-bottom: 20px; text-shadow: 0 0 20px rgba(255, 0, 0, 0.7); color: #ff0000;"><span style="color: #ccc;">‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 1 </span> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢</h2>
                                        <p id="instruction-text" style="margin-bottom: 20px; color: #ccc;">‡∏à‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <span id="countdown-timer" style="font-size: 2rem; color: #ff0000; text-shadow: 0 0 10px rgba(255, 0, 0, 0.8);">5</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...</p>
                                        <div id="board" style="margin: 20px auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; max-width: 350px;"></div>
                                        <div id="message" style="margin: 20px 0; min-height: 2rem; color: #ff0000;"></div>
                                        <div id="buttons" style="margin: 20px 0;"></div>
                                    </div>
                                `;
                                mainContainer.style.padding = '0';
                                mainContainer.style.background = 'radial-gradient(circle, #000000, #1a0000)';
                                
                                // Apply dark theme to entire system
                                document.body.style.background = 'radial-gradient(circle, #000000, #1a0000)';
                                document.body.style.color = '#ff0000';
                                
                                // Game implementation
                                 const symbols = ["‚ô†", "‚ô†", "‚ô•", "‚ô•", "‚ô¶", "‚ô¶", "‚ô£", "‚ô£", "‚òÖ", "‚òÖ", "‚ú¶", "‚ú¶", "‚òÄ", "‚òÄ", "‚òÅ", "‚òÅ", "‚òÇ", "‚òÇ", "‚òæ", "‚òæ"];
                                 //const symbols = ["‚ô†", "‚ô†", "‚ô•", "‚ô•"];
                                const board = document.getElementById("board");
                                const message = document.getElementById("message");
                                const buttonsContainer = document.getElementById("buttons");
                                const countdownTimer = document.getElementById("countdown-timer");
                                const instructionText = document.getElementById("instruction-text");
                                
                                // Shuffle symbols
                                symbols.sort(() => Math.random() - 0.5);
                                
                                // Create cards with danger theme
                                symbols.forEach(sym => {
                                    const card = document.createElement("div");
                                    card.className = "card";
                                    card.textContent = sym;
                                    card.style.width = "70px";
                                    card.style.height = "70px";
                                    card.style.display = "flex";
                                    card.style.justifyContent = "center";
                                    card.style.alignItems = "center";
                                    card.style.margin = "0 auto";
                                    card.style.background = "#000000"; // Pure black background
                                    card.style.border = "2px solid #ff0000"; // Red border for danger theme
                                    card.style.color = "#ff0000"; // Red text for danger theme
                                    card.style.fontSize = "1.8rem";
                                    card.style.cursor = "pointer";
                                    card.style.borderRadius = "8px";
                                    card.style.boxShadow = "0 0 15px rgba(255, 0, 0, 0.5)"; // Red glow
                                    card.style.fontFamily = "'Courier New', monospace";
                                    board.appendChild(card);
                                });
                                
                                // Start 5-second countdown
                                let timeLeft = 5;
                                
                                const countdownInterval = setInterval(() => {
                                    timeLeft--;
                                    if (countdownTimer) {
                                        countdownTimer.textContent = timeLeft;
                                        countdownTimer.style.fontSize = '2rem';
                                        countdownTimer.style.color = '#ff0000';
                                        countdownTimer.style.textShadow = '0 0 10px rgba(255, 0, 0, 0.8)';
                                    }
                                    
                                    if (timeLeft <= 0) {
                                        clearInterval(countdownInterval);
                                        // Update instruction text
                                        if (instructionText) {
                                            instructionText.textContent = "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ... ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß. ‡∏à‡∏á‡∏à‡∏≥‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å";
                                        }
                                        // Hide all cards
                                        document.querySelectorAll(".card").forEach(c => {
                                            c.textContent = "‚ùì";
                                            c.style.background = "#000000"; // Pure black background
                                            c.style.color = "#ccc"; // Red text
                                        });
                                    }
                                }, 1000);
                                
                                // After 5 seconds, add click events for card selection
                                setTimeout(() => {
                                    // Add click events for card selection
                                    let firstCard = null;
                                    let secondCard = null;
                                    let lockBoard = false;
                                    let matchedPairs = 0;
                                    const totalPairs = Math.floor(symbols.length / 2);
                                    
                                    document.querySelectorAll(".card").forEach(card => {
                                        card.addEventListener("click", function() {
                                            if (lockBoard) return;
                                            if (this === firstCard) return;
                                            if (this.textContent !== "‚ùì") return;
                                            
                                            this.textContent = symbols[Array.from(document.querySelectorAll(".card")).indexOf(this)];
                                            
                                            if (!firstCard) {
                                                firstCard = this;
                                                return;
                                            }
                                            
                                            secondCard = this;
                                            lockBoard = true;
                                            
                                            // Check if cards match
                                            if (firstCard.textContent === secondCard.textContent) {
                                                // Match found
                                                matchedPairs++;
                                                firstCard.style.background = "#000000"; // Black background
                                                firstCard.style.color = "#00ff00"; // Green text for correct
                                                firstCard.style.boxShadow = "0 0 20px rgba(0, 255, 0, 0.7)"; // Green glow
                                                secondCard.style.background = "#000000"; // Black background
                                                secondCard.style.color = "#00ff00"; // Green text for correct
                                                secondCard.style.boxShadow = "0 0 20px rgba(0, 255, 0, 0.7)"; // Green glow
                                                firstCard = null;
                                                secondCard = null;
                                                lockBoard = false;
                                                
                                                // Show green overlay for correct match
                                                showOverlayFeedback(true);
                                                
                                                // Check if game is complete
                                                if (matchedPairs === totalPairs) {
                                                    message.textContent = "‡∏ä‡∏ô‡∏∞! ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏≥‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å";
                                                    message.style.color = "#00ff00";
                                                    showGameButtons(true);
                                                }
                                            } else {
                                                // No match
                                                setTimeout(() => {
                                                    firstCard.textContent = "‚ùì";
                                                    secondCard.textContent = "‚ùì";
                                                    firstCard = null;
                                                    secondCard = null;
                                                    lockBoard = false;
                                                    
                                                    // Show red overlay for wrong match
                                                    showOverlayFeedback(false);
                                                    
                                              
                                                    // Show message when player makes a wrong selection
                                                    message.textContent = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏¥‡∏î! ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
                                                    message.style.color = "#ff0000";
                                                    
                                                    // Clear message after 2 seconds
                                                    setTimeout(() => {
                                                        message.textContent = "";
                                                    }, 2000);
                                                }, 1000);
                                            }
                                        });
                                    });
                                    
                                    // Function to show overlay feedback
                                    function showOverlayFeedback(isCorrect) {
                                        const overlay = document.createElement("div");
                                        overlay.style.position = "fixed";
                                        overlay.style.top = "0";
                                        overlay.style.left = "0";
                                        overlay.style.width = "100%";
                                        overlay.style.height = "100%";
                                        overlay.style.zIndex = "9999";
                                        overlay.style.opacity = "0.7";
                                        
                                        if (isCorrect) {
                                            overlay.style.background = "#00ff00"; // Green for correct
                                            // Play correct sound
                                            const correctSound = new Audio('mp3/Correct.mp3');
                                            correctSound.play().catch(e => console.log("Correct sound play failed:", e));
                                        } else {
                                            overlay.style.background = "#ff0000"; // Red for wrong
                                            // Play wrong sound
                                            const wrongSound = new Audio('mp3/wrong.mp3');
                                            wrongSound.play().catch(e => console.log("Wrong sound play failed:", e));
                                        }
                                        
                                        document.body.appendChild(overlay);
                                        
                                        // Remove overlay after 500ms
                                        setTimeout(() => {
                                            if (overlay.parentNode) {
                                                overlay.parentNode.removeChild(overlay);
                                            }
                                        }, 500);
                                    }
                                    
                                    // Function to show game buttons
                                    function showGameButtons(isWin) {
                                        buttonsContainer.innerHTML = '';
                                        if (isWin) {
                                            // Countdown 3 seconds then auto start next game
                                            const countdownDiv = document.createElement("div");
                                            countdownDiv.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...";
                                            countdownDiv.style.color = "#ff0000";
                                            countdownDiv.style.fontSize = "1.2rem";
                                            buttonsContainer.appendChild(countdownDiv);
                                            let count = 3;
                                            const interval = setInterval(() => {
                                                count--;
                                                countdownDiv.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô ${count} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...`;
                                                if (count <= 0) {
                                                    clearInterval(interval);
                                                    startGame2();
                                                }
                                            }, 1000);
                                        }
                                    }
                                }, 5000);
                            }
                            
                            // Function to start game 2
                            function startGame2() {
                                const mainContainer = document.querySelector('.main-container');
                                mainContainer.innerHTML = `
                                    <div class="game2-container" style="background: radial-gradient(circle at center, #000, #0a0a0a); color: #eee; font-family: 'Courier New', monospace; text-align: center; height: 100%; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; overflow: hidden; position: relative;">
                                        <div class="glitch" style="position: absolute; width: 100%; height: 100%; background: repeating-linear-gradient(0deg, rgba(255,0,0,0.05) 0, transparent 2px, rgba(0,0,0,0.8) 4px); mix-blend-mode: overlay; animation: glitchMove 2s infinite;"></div>
                                        <h2 style="font-size: 1.8rem; margin-bottom: 20px; text-shadow: 0 0 20px rgba(255, 0, 0, 0.7); color: #ff3333; letter-spacing: 2px; animation: flicker 3s infinite;"><span style="color: #ccc;">‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 2 </span>‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô</h2>
                                        <div id="game2-instructions" style="font-size: 1.1rem; margin: 20px; max-width: 600px; color: #ccc; line-height: 1.6;">
                                            <p>‡∏Å‡∏é‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡πÄ‡∏Å‡∏°:</p>
                                            <p>‚Ä¢ ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á 3 ‡∏Ç‡πâ‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô</p>
                                            <p>‚Ä¢ ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
                                            <p>‚Ä¢ ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</p>
                                            <p>‚Ä¢ ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤ 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</p>
                                        </div>
                                        <div id="question" style="font-size: 1.2rem; margin: 20px; max-width: 600px;"></div>
                                        <div id="options" style="margin: 20px 0;"></div>
                                        <div id="countdown" style="font-size: 1.5rem; color: #ff0000; margin-top: 15px; text-shadow: 0 0 20px rgba(255,0,0,0.8);"></div>
                                        <div id="result" style="margin-top: 20px; font-size: 1rem; color: #ccc; opacity: 0; transition: opacity 1s;"></div>
                                        <div id="win-counter" style="position: absolute; top: 20px; right: 20px; font-size: 1.2rem; color: #00ff99;">‡∏ä‡∏ô‡∏∞: <span id="win-count">0</span>/3</div>
                                        <button id="start-game2-btn" class="option" style="margin-top: 30px; padding: 15px 40px; font-size: 1.2rem;color: #ff3333; border: 1px solid red; border-radius: 8px;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
                                    </div>
                                `;
                                
                                // Add animations to head
                                const style = document.createElement('style');
                                style.innerHTML = `
                                    @keyframes flicker {
                                        0%, 18%, 22%, 25%, 50%, 60%, 100% { opacity: 1; }
                                        19%, 24%, 55% { opacity: 0.4; }
                                    }
                                    
                                    @keyframes glitchMove {
                                        0%, 100% { opacity: 0.1; }
                                        50% { opacity: 0.5; }
                                    }
                                    
                                    .option {
                                        margin: 8px;
                                        padding: 12px 28px;
                                        border: 1px solid rgba(255,255,255,0.5);
                                        color: #fff;
                                        background: none;
                                        font-size: 1rem;
                                        border-radius: 5px;
                                        cursor: pointer;
                                        transition: 0.3s;
                                        font-family: 'Courier New', monospace;
                                        display: inline-block;
                                        min-width: 80px;
                                        position: relative;
                                        z-index: 10;
                                    }
                                    
                                    .option:hover {
                                        background: rgba(255,0,0,0.2);
                                        box-shadow: 0 0 15px rgba(255,0,0,0.5);
                                    }
                                `;
                                document.head.appendChild(style);
                                
const questions = [
    { q: "‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏µ‡πà‡∏Ñ‡∏ô ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ >50% ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏µ 2 ‡∏Ñ‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (365 ‡∏ß‡∏±‡∏ô)?", options: ["20","23","30"], correct: "23" },
    { q: "‡∏™‡∏ß‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏°‡∏µ‡∏™‡∏±‡∏ï‡∏ß‡πå 50 ‡∏ï‡∏±‡∏ß ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏¥‡∏á‡πÇ‡∏ï‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£?", options: ["015","017","071","107"], correct: "017" },
    { q: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄòEVIL‚Äô ‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏Ç‡πÉ‡∏î?", options: ["3173","731","1137"], correct: "3173" },
    { q: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄòNO‚Äô ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?", options: ["ON","ZN","10"], correct: "ON" },
    { q: "LIFE ‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£?", options: ["FILE","EFIL","FIEL"], correct: "FILE" },
    { q: "DOG ‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?", options: ["GOD","DGO","O6D"], correct: "GOD" },
     { q: "‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏î‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°?", options: ["0","3","7"], correct: "0" },
    { q: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏´‡∏±‡∏™ ‚Äò07734‚Äô ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?", options: ["HELLO","OLLEH","HOLLE"], correct: "HELLO" },
    { q: "6 ‡∏Å‡∏±‡∏ö 9 ‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏™‡∏°‡∏≠ ‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∑‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô?", options: ["‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£","6","9"], correct: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£" },
    { q: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄòHELL‚Äô ‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?", options: ["4377","4773","4177"], correct: "4377" },
    { q: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄòNO LIFE‚Äô ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£?", options: ["EFIL ON","FILE NO","ON FILE"], correct: "EFIL ON" },
    { q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄòLIVE‚Äô ‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?", options: ["EVIL","VILE","LVIE"], correct: "EVIL" },
    { q: "‡∏ñ‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äò010‚Äô ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô ‡∏°‡∏±‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?", options: ["010","101","OIO"], correct: "010" },
    { q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄòNOW‚Äô ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?", options: ["MON","WON","NON"], correct: "WON" },
    { q: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄòEYE‚Äô ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏•‡∏¥‡∏Å‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?", options: ["EYE","3Y3","YEE"], correct: "EYE" },

];


                                const results = [
                                    "‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á...",
                                ];
                                let winCount = 0;
                                let timer, timeLeft = 10;
                                
                                const questionEl = document.getElementById('question');
                                const optionsEl = document.getElementById('options');
                                const countdownEl = document.getElementById('countdown');
                                const resultEl = document.getElementById('result');
                                const winCountEl = document.getElementById('win-count');
                                
                                // Audio elements
                                // Audio elements
                                const bgSound = new Audio('https://cdn.pixabay.com/download/audio/2022/11/12/audio_640e3ef33c.mp3');
                                const clickSound = new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_1ebfc24771.mp3');
                                const errorSound = new Audio('mp3/wrong.mp3');
                                
                                bgSound.volume = 0.5;
                                bgSound.loop = true;
                                
                                // Set up start button event listener
                                const startButton = document.getElementById('start-game2-btn');
                                startButton.onclick = function() {
                                    bgSound.play();
                                    // Remove game instructions when starting
                                    const instructions = document.getElementById('game2-instructions');
                                    if (instructions) {
                                        instructions.remove();
                                    }
                                    startButton.remove();
                                    loadQuestion();
                                };
                                
                                function loadQuestion() {
                                    // Clear any existing restart buttons
                                    const existingButtons = document.getElementById("game2-restart-buttons");
                                    if (existingButtons) {
                                        existingButtons.remove();
                                    }
                                    
                                    const q = questions[Math.floor(Math.random() * questions.length)];
                                    questionEl.textContent = q.q;
                                    optionsEl.innerHTML = "";
                                    resultEl.style.opacity = "0";
                                    timeLeft = 10;
                                    countdownEl.textContent = "‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: " + timeLeft + " ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ";
                                    
                                    timer = setInterval(() => {
                                        timeLeft--;
                                        countdownEl.textContent = "‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: " + timeLeft + " ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ";
                                        if (timeLeft <= 0) {
                                            clearInterval(timer);
                                            endRound(false);
                                        }
                                    }, 1000);
                                    
                                    // Variable to track if an answer has been selected
                                    let answerSelected = false;
                                    
                                    q.options.forEach(opt => {
                                        const btn = document.createElement("button");
                                        btn.className = "option";
                                        btn.textContent = opt;
                                        btn.style.cssText = `
                                            margin: 8px;
                                            padding: 12px 28px;
                                            border: 1px solid rgba(255,255,255,0.5);
                                            color: #fff;
                                            background: none;
                                            font-size: 0.8rem;
                                            border-radius: 5px;
                                            cursor: pointer;
                                            transition: 0.3s;
                                            font-family: 'Courier New', monospace;
                                            display: inline-block;
                                            min-width: 80px;
                                        `;
                                        
                                        btn.onmouseover = function() {
                                            // Only allow hover effect if no answer has been selected
                                            if (!answerSelected) {
                                                this.style.background = "rgba(255,0,0,0.2)";
                                                this.style.boxShadow = "0 0 15px rgba(255,0,0,0.5)";
                                            }
                                        };
                                        
                                        btn.onmouseout = function() {
                                            // Only allow hover effect if no answer has been selected
                                            if (!answerSelected) {
                                                this.style.background = "none";
                                                this.style.boxShadow = "none";
                                            }
                                        };
                                        
                                        // Use onclick instead of addEventListener for better compatibility
                                        btn.onclick = function() {
                                            // Prevent multiple selections
                                            if (answerSelected) return;
                                            
                                            // Disable all buttons after selection
                                            answerSelected = true;
                                            const allButtons = optionsEl.querySelectorAll('button');
                                            allButtons.forEach(button => {
                                                button.style.cursor = "not-allowed";
                                                button.style.opacity = "0.7";
                                            });
                                            
                                            checkAnswer(opt, q.correct);
                                        };
                                        
                                        optionsEl.appendChild(btn);
                                    });
                                }
                                
                                function checkAnswer(ans, correct) {
                                    clearInterval(timer);
                                    if (ans === correct) {
                                        clickSound.play();
                                        winCount++;
                                        winCountEl.textContent = winCount;
                                        resultEl.textContent = results[Math.floor(Math.random() * results.length)];
                                        resultEl.style.color = "#00ff99";
                                        resultEl.style.textShadow = "0 0 10px rgba(0, 255, 153, 0.7)";
                                        resultEl.style.opacity = "1";
                                        
                                        // Show green overlay for correct answer
                                        showGame2OverlayFeedback(true);
                                        
                                        if (winCount >= 3) {
                                            // Player wins and can proceed to next game
                                            setTimeout(() => {
                                                resultEl.textContent = "üéâ ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß! ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ...";
                                                resultEl.style.color = "#00ff99";
                                                resultEl.style.textShadow = "0 0 15px rgba(0, 255, 153, 0.8)";
                                                resultEl.style.opacity = "1";
                                                
                                                // Show next game button after 3 seconds
                                                setTimeout(() => {
                                                    showNextGameButton();
                                                }, 3000);
                                            }, 2000);
                                        } else {
                                            // Continue to next question after 3 seconds
                                            resultEl.style.opacity = "1";
                                            setTimeout(() => {
                                                loadQuestion();
                                            }, 3000);
                                        }
                                    } else {
                                        errorSound.play();
                                        resultEl.textContent = "‚ùå ‡∏£‡∏∞‡∏ö‡∏ö: ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î!";
                                        resultEl.style.color = "#ff0000";
                                        resultEl.style.textShadow = "0 0 10px rgba(255, 0, 0, 0.7)";
                                        resultEl.style.opacity = "1";
                                        
                                        // Reset win count to 0
                                        winCount = 0;
                                        winCountEl.textContent = winCount;
                                        
                                        // Show restart button instead of continuing
                                        setTimeout(() => {
                                            showRestartButton();
                                        }, 3000);
                                    }
                                }
                                
                                function endRound(timeout) {
                                    clearInterval(timer);
                                    
                                    // Disable all answer buttons when time runs out
                                    const allButtons = optionsEl.querySelectorAll('button');
                                    allButtons.forEach(button => {
                                        button.style.cursor = "not-allowed";
                                        button.style.opacity = "0.7";
                                        // Remove click event listeners
                                        button.onclick = null;
                                    });
                                    
                                    errorSound.play();
                                    resultEl.textContent = "‚è∞ ‡∏£‡∏∞‡∏ö‡∏ö: ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤...";
                                    resultEl.style.color = "#ff6600";
                                    resultEl.style.textShadow = "0 0 10px rgba(255, 102, 0, 0.7)";
                                    resultEl.style.opacity = "1";
                                    
                                    // Show red overlay for timeout
                                    showGame2OverlayFeedback(false);
                                    
                                    // Reset win count to 0
                                    winCount = 0;
                                    winCountEl.textContent = winCount;
                                    
                                    // Show restart button instead of continuing
                                    setTimeout(() => {
                                        showRestartButton();
                                    }, 3000);
                                }
                                
                                function showNextGameButton() {
                                    // Countdown 3 seconds then auto start next game
                                    const buttonsContainer = document.createElement("div");
                                    buttonsContainer.id = "game2-buttons";
                                    buttonsContainer.style.margin = "20px 0";
                                    const countdownDiv = document.createElement("div");
                                    countdownDiv.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...";
                                    countdownDiv.style.color = "#ff0000";
                                    countdownDiv.style.fontSize = "1.2rem";
                                    buttonsContainer.appendChild(countdownDiv);
                                    let count = 3;
                                    const interval = setInterval(() => {
                                        count--;
                                        countdownDiv.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô ${count} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...`;
                                        if (count <= 0) {
                                            clearInterval(interval);
                                            startGame3();
                                        }
                                    }, 1000);
                                    document.querySelector('.game2-container').appendChild(buttonsContainer);
                                }
                                
                                function showRestartButton() {
                                    // Remove any existing restart buttons
                                    const existingButtons = document.getElementById("game2-restart-buttons");
                                    if (existingButtons) {
                                        existingButtons.remove();
                                    }
                                    
                                    const buttonsContainer = document.createElement("div");
                                    buttonsContainer.id = "game2-restart-buttons";
                                    buttonsContainer.style.margin = "20px 0";
                                    
                                    const restartBtn = document.createElement("button");
                                    restartBtn.textContent = "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà";
                                    restartBtn.className = "option";
                                    restartBtn.style.padding = "12px 28px";
                                    restartBtn.style.margin = "5px";
                                    restartBtn.addEventListener('click', function() {
                                        // Reset win count and load new question
                                        winCount = 0;
                                        winCountEl.textContent = winCount;
                                        loadQuestion();
                                        
                                        // Remove the restart button
                                        if (buttonsContainer.parentNode) {
                                            buttonsContainer.parentNode.removeChild(buttonsContainer);
                                        }
                                    });
                                    
                                    buttonsContainer.appendChild(restartBtn);
                                    document.querySelector('.game2-container').appendChild(buttonsContainer);
                                }
                                
                                // Function to show overlay feedback (like in Game 1)
                                function showGame2OverlayFeedback(isCorrect) {
                                    const overlay = document.createElement("div");
                                    overlay.style.position = "fixed";
                                    overlay.style.top = "0";
                                    overlay.style.left = "0";
                                    overlay.style.width = "100%";
                                    overlay.style.height = "100%";
                                    overlay.style.zIndex = "9999";
                                    overlay.style.opacity = "0.7";
                                    
                                    // if (isCorrect) {
                                    //     overlay.style.background = "#00ff00"; // Green for correct
                                    // } else {
                                    //     overlay.style.background = "#ff0000"; // Red for wrong
                                    // }
                                     if (isCorrect) {
                                            overlay.style.background = "#00ff00"; // Green for correct
                                            // Play correct sound
                                            const correctSound = new Audio('mp3/Correct.mp3');
                                            correctSound.play().catch(e => console.log("Correct sound play failed:", e));
                                        } else {
                                            overlay.style.background = "#ff0000"; // Red for wrong
                                            // Play wrong sound
                                            const wrongSound = new Audio('mp3/wrong.mp3');
                                            wrongSound.play().catch(e => console.log("Wrong sound play failed:", e));
                                        }
                                        
                                    document.body.appendChild(overlay);
                                    
                                    // Remove overlay after 500ms
                                    setTimeout(() => {
                                        if (overlay.parentNode) {
                                            overlay.parentNode.removeChild(overlay);
                                        }
                                    }, 500);
                                }
                                
                                // Function to start game 3
                                function startGame3() {
                                    window.startGame3 = startGame3;
                                    // Use the main container for game 3 instead of creating a separate element
                                    const mainContainer = document.querySelector('.main-container');
                                    if (mainContainer) {
                                        // Clear the container and set styles to fill it completely
                                        mainContainer.innerHTML = `
                                            <div id="game3-container" style="background: radial-gradient(circle at center, #000000, #1a0000 90%); color: #eee; font-family: 'Courier New', monospace; text-align: center; height: 100%; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; overflow: hidden; position: relative;">
                                                <style>
                                                    @keyframes flicker {
                                                        0%, 18%, 22%, 25%, 50%, 60%, 100% { opacity: 1; }
                                                        19%, 24%, 55% { opacity: 0.4; }
                                                    }
                                                    
                                                    @keyframes pulse {
                                                        0%, 100% { transform: scale(1); opacity: 1; }
                                                        50% { transform: scale(1.2); opacity: 0.8; }
                                                    }
                                                    
                                                    .game3-num {
                                                        background: rgba(255, 255, 255, 0.05);
                                                        border: 1px solid rgba(255, 0, 0, 0.4);
                                                        color: #eee;
                                                        padding: 8px;
                                                        cursor: pointer;
                                                        transition: 0.2s;
                                                        border-radius: 4px;
                                                    }
                                                    
                                                    .game3-num:hover {
                                                        background: rgba(255, 0, 0, 0.6);
                                                        box-shadow: 0 0 8px #f00;
                                                    }
                                                    
                                                    .game3-chosen {
                                                        background: rgba(255, 0, 0, 0.1);
                                                        color: #555;
                                                        border-color: #500;
                                                        cursor: not-allowed;
                                                    }
                                                    
                                                    .game3-player {
                                                        margin: 3px 0;
                                                        font-size: 1rem;
                                                        transition: 0.5s;
                                                    }
                                                    
                                                    .game3-highlight {
                                                        color: #ff0000;
                                                        text-shadow: 0 0 15px #ff0000;
                                                    }
                                                    
                                                    .game3-dead {
                                                        opacity: 0.3;
                                                        text-decoration: line-through;
                                                        color: #700;
                                                    }
                                                    
                                                    .game3-averageBox {
                                                        font-size: 1.8rem;
                                                        color: #ff4444;
                                                        text-shadow: 0 0 25px #ff0000;
                                                        font-weight: bold;
                                                        margin: 20px auto;
                                                        animation: pulse 2s infinite;
                                                    }
                                                </style>
                                                <h2 style="font-size: 1.8rem; margin-bottom: 20px; text-shadow: 0 0 20px rgba(255, 0, 0, 0.7); color: #ff0000; letter-spacing: 2px; animation: flicker 3s infinite;"><span style="color: #ccc;">‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 3 </span>‡∏Ñ‡∏±‡∏ô‡∏ä‡∏±‡πà‡∏á</h2>
                                                
                                                <div id="game3-round-info" style="font-size: 1.2rem; color: #f55; text-shadow: 0 0 10px #f00; margin-bottom: 10px;"></div>
                                                
                                                <p>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 0‚Äì100</p>
                                                <p>‡πÇ‡∏î‡∏¢‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠ ‚Äú‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô √ó 0.8‚Äù</p>
                                                <p>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡πÉ‡∏î‡∏°‡∏µ‡∏Ñ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 0 ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 100 ‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 100 ‡∏à‡∏∞‡∏ä‡∏ô‡∏∞‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                                                 <p></p>
                                                <div id="game3-board" style="display: grid; grid-template-columns: repeat(10, 1fr); gap: 5px; width: 90%; max-width: 600px; margin: 20px auto;"></div>
                                                
                                                <div id="game3-players" style="margin-top: 15px; text-align: left; width: 80%; margin-left: auto; margin-right: auto;"></div>
                                                
                                                <div id="game3-result" style="margin-top: 20px; font-size: 1.2rem; min-height: 150px; text-shadow: 0 0 10px rgba(255,0,0,0.7); white-space: pre-line;"></div>
                                                
                                                <div id="game3-buttons" style="margin: 20px 0;">
                                                    <button id="game3-next-round" class="game-button" style="margin-top: 30px; padding: 12px 25px; background: none; border: 1px solid #f00; color: #eee; cursor: pointer; font-family: 'Courier New', monospace; transition: 0.4s; opacity: 0; display: none;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚ñ∂Ô∏è</button>
                                                    <button id="game3-restart" class="game-button" style="margin-top: 30px; padding: 12px 25px; background: none; border: 1px solid #f00; color: #eee; cursor: pointer; font-family: 'Courier New', monospace; transition: 0.4s; opacity: 0; display: none; margin-left: 10px;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà üîÅ</button>
                                                    <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà4 ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ -->
                                                </div>
                                                
                                                <div id="game3-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); color: #f00; font-size: 2rem; display: none; align-items: center; justify-content: center; flex-direction: column; text-shadow: 0 0 25px #f00; letter-spacing: 2px;"></div>
                                            </div>
                                        `;
                                        mainContainer.style.padding = '0';
                                        mainContainer.style.background = 'none';
                                    }
                                    
                                    // Show countdown overlay before initializing game 3
                                    const overlay = document.getElementById('game3-overlay');
                                    if (overlay) {
                                        overlay.style.display = 'flex';
                                        let count = 3;
                                        overlay.innerHTML = `<div>‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ô <span id='game3-countdown-main'>${count}</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...</div>`;
                                        const countdownSpan = document.getElementById('game3-countdown-main');
                                        const timer = setInterval(() => {
                                            count--;
                                            if (countdownSpan) countdownSpan.textContent = count;
                                            if (count <= 0) {
                                                clearInterval(timer);
                                                overlay.style.display = 'none';
                                                overlay.innerHTML = '';
                                                initGame3HTML(true); // ‡∏™‡πà‡∏á flag ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
                                            }
                                        }, 1000);
                                    } else {
                                        initGame3HTML(true);
                                    }
                                }
                                
                                // Game 3 implementation in HTML
                                let game3DataHTML = {
                                    round: 1,
                                    usedNumbers: [],
                                    allPlayers: [
                                       { name: "‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß", isBot: false, choice: null, score: 10, alive: true },
        { name: "‡∏û‡∏•‡∏≠‡∏¢", isBot: true, choice: null, score: 10, alive: true },
         { name: "‡∏ü‡πâ‡∏≤", isBot: true, choice: null, score: 10, alive: true },
        { name: "‡πÅ‡∏û‡∏£‡∏ß", isBot: true, choice: null, score: 10, alive: true },
        { name: "‡∏ö‡∏≠‡∏™", isBot: true, choice: null, score: 10, alive: true },
                                    ]
                                };
                                
                                function initGame3HTML() {
                                    // Reset game state
                                    game3DataHTML.round = 1;
                                    game3DataHTML.usedNumbers = [];
                                    game3DataHTML.allPlayers = [
                                        { name: "‡πÅ‡∏≠‡∏õ‡∏õ‡∏π‡πâ‡∏ß", isBot: false, choice: null, score: 10, alive: true },
        { name: "‡∏û‡∏•‡∏≠‡∏¢", isBot: true, choice: null, score: 10, alive: true },
        { name: "‡∏ü‡πâ‡∏≤", isBot: true, choice: null, score: 10, alive: true },
         { name: "‡πÅ‡∏û‡∏£‡∏ß", isBot: true, choice: null, score: 10, alive: true },
         { name: "‡∏ö‡∏≠‡∏™", isBot: true, choice: null, score: 10, alive: true },
                                    ];
                                    
                                    // Get DOM elements
                                    const gameContainer = document.getElementById('game3-container');
                                    const roundInfo = document.getElementById('game3-round-info');
                                    const board = document.getElementById('game3-board');
                                    const playersDiv = document.getElementById('game3-players');
                                    const resultDiv = document.getElementById('game3-result');
                                    const nextRoundBtn = document.getElementById('game3-next-round');
                                    const restartBtn = document.getElementById('game3-restart');
                                    const nextGameBtn = document.getElementById('game3-next-game');
                                    const overlay = document.getElementById('game3-overlay');

                                    // Set initial state
                                    if (roundInfo) roundInfo.textContent = '';
                                    if (board) board.innerHTML = '';
                                    if (playersDiv) playersDiv.innerHTML = '';
                                    if (resultDiv) resultDiv.innerHTML = '';
                                    if (nextRoundBtn) {
                                        nextRoundBtn.style.display = 'inline-block';
                                        // Add event listener for next round button
                                        nextRoundBtn.onclick = () => startGame3RoundHTML();
                                    }
                                    if (restartBtn) {
                                        restartBtn.style.display = 'none';
                                        // Add event listener for restart button
                                        restartBtn.onclick = () => {
                                            // Show countdown overlay before restarting
                                            const overlay = document.getElementById('game3-overlay');
                                            if (overlay) {
                                                overlay.style.display = 'flex';
                                                let count = 3;
                                                overlay.innerHTML = `<div>‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô <span id='game3-countdown'>${count}</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...</div>`;
                                                const countdownSpan = document.getElementById('game3-countdown');
                                                const timer = setInterval(() => {
                                                    count--;
                                                    if (countdownSpan) countdownSpan.textContent = count;
                                                    if (count <= 0) {
                                                        clearInterval(timer);
                                                        overlay.style.display = 'none';
                                                        overlay.innerHTML = '';
                                                        initGame3HTML(true);
                                                    }
                                                }, 1000);
                                            } else {
                                                // fallback: just restart
                                                initGame3HTML(true);
                                            }
                                        };
                                    }
                                    if (nextGameBtn) {
                                        // Add event listener for next game button
                                        nextGameBtn.onclick = () => {
                                            // Start Game 4
                                            startGame4();
                                        };
                                    }
                                    if (overlay) {
                                        overlay.style.display = 'none';
                                        overlay.innerHTML = '';
                                    }

                                    // ‡∏ñ‡πâ‡∏≤ flag ‡πÄ‡∏õ‡πá‡∏ô true (‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà) ‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 1/10
                                    if (arguments.length > 0 && arguments[0] === true) {
                                        startGame3RoundHTML(false);
                                    } else {
                                        startGame3RoundHTML(true);
                                    }
                                }
                                
                                function startGame3RoundHTML() {
                                    // Reset round state
                                    game3DataHTML.usedNumbers = [];
                                    const resultDiv = document.getElementById('game3-result');
                                    const nextRoundBtn = document.getElementById('game3-next-round');
                                    const restartBtn = document.getElementById('game3-restart');
                                    const nextGameBtn = document.getElementById('game3-next-game');
                                    
                                    if (resultDiv) resultDiv.innerHTML = '';
                                    if (nextRoundBtn) nextRoundBtn.style.display = 'none';
                                    if (restartBtn) restartBtn.style.display = 'none';
                                    if (nextGameBtn) nextGameBtn.style.display = 'none';
                                    
                                    // Check game end conditions
                                    const alivePlayers = game3DataHTML.allPlayers.filter(p => p.alive);
                                    if (game3DataHTML.round > 10 || alivePlayers.length <= 1) {
                                        endGame3HTML();
                                        return;
                                    }
                                    
                                    // Update round info
                                    const roundInfo = document.getElementById('game3-round-info');
                                    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏ö‡πÅ‡∏£‡∏Å‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏≠‡∏ö
                                    if (arguments.length === 0 || arguments[0] === true) {
                                        if (roundInfo) roundInfo.textContent = `‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà ${game3DataHTML.round}/10`;
                                    } else {
                                        if (roundInfo) roundInfo.textContent = '';
                                    }
                                    
                                    // Reset player choices
                                    game3DataHTML.allPlayers.forEach(p => p.choice = null);
                                    
                                    // Render game elements
                                    renderGame3BoardHTML();
                                    renderGame3PlayersHTML();
                                }
                                
                                function renderGame3BoardHTML() {
                                    const board = document.getElementById('game3-board');
                                    if (!board) return;
                                    
                                    board.innerHTML = '';
                                    for (let i = 0; i <= 100; i++) {
                                        const cell = document.createElement("div");
                                        cell.className = "game3-num";
                                        cell.textContent = i;
                                        if (game3DataHTML.usedNumbers.includes(i)) {
                                            cell.classList.add("game3-chosen");
                                        } else {
                                            cell.onclick = () => player3ChooseHTML(i);
                                        }
                                        board.appendChild(cell);
                                    }
                                }
                                
                                function renderGame3PlayersHTML() {
                                    const playersDiv = document.getElementById('game3-players');
                                    if (!playersDiv) return;
                                    
                                    playersDiv.innerHTML = "<h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô:</h3>";
                                    game3DataHTML.allPlayers.forEach(p => {
                                        const hearts = "‚ù§Ô∏è".repeat(p.score);
                                        playersDiv.innerHTML += `<div id="game3-p-${p.name}" class="game3-player ${!p.alive ? 'game3-dead' : ''}">${p.name}: ${p.choice !== null ? p.choice : "‚ùì"} | ${hearts}</div>`;
                                    });
                                }
                                
                                function flashGame3PlayerHTML(name) {
                                    const el = document.getElementById(`game3-p-${name}`);
                                    if (!el) return;
                                    el.classList.add("game3-highlight");
                                    setTimeout(() => el.classList.remove("game3-highlight"), 600);
                                }
                                
                                function player3ChooseHTML(num) {
                                    const player = game3DataHTML.allPlayers.find(p => !p.isBot);
                                    if (!player.alive || game3DataHTML.usedNumbers.includes(num)) return;
                                
                                    player.choice = num;
                                    game3DataHTML.usedNumbers.push(num);
                                    renderGame3BoardHTML();
                                    renderGame3PlayersHTML();
                                
                                    flashGame3PlayerHTML(player.name);
                                    setTimeout(() => bot3TurnHTML(), 800);
                                }
                                
                                function bot3TurnHTML() {
                                    const bots = game3DataHTML.allPlayers.filter(p => p.isBot && p.alive);
                                    const personalities = ["‡πÇ‡∏•‡∏†", "‡∏Å‡∏•‡∏±‡∏ß", "‡∏â‡∏•‡∏≤‡∏î", "‡∏™‡∏∏‡πà‡∏°"];
                                
                                    // Process bots sequentially
                                    let botIndex = 0;
                                    const processBot = () => {
                                        if (botIndex >= bots.length) {
                                            // All bots have made their choices, finish the round
                                            setTimeout(() => finishGame3RoundHTML(), 1000);
                                            return;
                                        }
                                
                                        const bot = bots[botIndex];
                                        flashGame3PlayerHTML(bot.name);
                                
                                        setTimeout(() => {
                                            let type = personalities[Math.floor(Math.random() * personalities.length)];
                                            let choice = randRangeHTML(
                                                type === "‡πÇ‡∏•‡∏†" ? 60 : type === "‡∏Å‡∏•‡∏±‡∏ß" ? 0 : type === "‡∏â‡∏•‡∏≤‡∏î" ? 35 : 0,
                                                type === "‡πÇ‡∏•‡∏†" ? 100 : type === "‡∏Å‡∏•‡∏±‡∏ß" ? 40 : type === "‡∏â‡∏•‡∏≤‡∏î" ? 65 : 100
                                            );
                                
                                            while (game3DataHTML.usedNumbers.includes(choice)) {
                                                choice = randRangeHTML(0, 100);
                                            }
                                
                                            game3DataHTML.usedNumbers.push(choice);
                                            bot.choice = choice;
                                            renderGame3PlayersHTML();
                                
                                            botIndex++;
                                            processBot();
                                        }, 1000);
                                    };
                                
                                    processBot();
                                }
                                
                                function typeGame3TextHTML(text, targetElement) {
                                    if (!targetElement) return;
                                    
                                    targetElement.textContent = "";
                                    let i = 0;
                                    const interval = setInterval(() => {
                                        targetElement.textContent += text[i];
                                        i++;
                                        if (i >= text.length) clearInterval(interval);
                                    }, 35);
                                }
                                
                                function finishGame3RoundHTML() {
                                    const alive = game3DataHTML.allPlayers.filter(p => p.alive);
                                    const choices = alive.map(p => p.choice);
                                    const avg = choices.reduce((a,b)=>a+b,0)/choices.length;
                                    const target = avg * 0.8;
                                    const zeroPicked = choices.includes(0);
                                    const hundredPicked = choices.includes(100);
                                
                                    let winner;
                                    if (zeroPicked && hundredPicked) {
                                        winner = alive.find(p => p.choice === 100);
                                    } else {
                                        let minDiff = Infinity;
                                        alive.forEach(p => {
                                            const diff = Math.abs(p.choice - target);
                                            if (diff < minDiff) {
                                                minDiff = diff;
                                                winner = p;
                                            }
                                        });
                                    }
                                
                                    const resultDiv = document.getElementById('game3-result');
                                    if (resultDiv) {
                                        const avgBox = document.createElement("div");
                                        avgBox.className = "game3-averageBox";
                                        avgBox.innerHTML = `‚öñÔ∏è ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠: ${avg.toFixed(2)}`;
                                        resultDiv.innerHTML = "";
                                        resultDiv.appendChild(avgBox);
                                
                                        setTimeout(() => {
                                            // Create elements for fade-in effect
                                            const targetDiv = document.createElement("div");
                                            targetDiv.textContent = `üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (√ó0.8): ${target.toFixed(2)}`;
                                            targetDiv.style.opacity = "0";
                                            targetDiv.style.transition = "opacity 1s ease-in";
                                            targetDiv.style.marginBottom = "10px";
                                            resultDiv.appendChild(targetDiv);
                                            
                                            // Fade in target div
                                            setTimeout(() => {
                                                targetDiv.style.opacity = "1";
                                            }, 1000);
                                            
                                            // Create winner div with green color after target is visible
                                            setTimeout(() => {
                                                const winnerDiv = document.createElement("div");
                                                winnerDiv.innerHTML = `<span style="color: #00ff00;">üèÜ ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏∑‡∏≠: ${winner.name} (${winner.choice})</span>`;
                                                winnerDiv.style.opacity = "0";
                                                winnerDiv.style.transition = "opacity 1s ease-in";
                                                winnerDiv.style.marginTop = "10px";
                                                resultDiv.appendChild(winnerDiv);
                                                
                                                // Fade in winner div
                                                setTimeout(() => {
                                                    winnerDiv.style.opacity = "1";
                                                    
                                                    // Start 3-second countdown after winner is fully visible
                                                    setTimeout(() => {
                                                        // Check if player is the last one remaining
                                                        const player = game3DataHTML.allPlayers.find(p => !p.isBot);
                                                        const alivePlayers = game3DataHTML.allPlayers.filter(p => p.alive);
                                                        if (alivePlayers.length === 1 && alivePlayers[0] === player) {
                                                            // Show result and then start 3-second countdown
                                                            const nextGameBtn = document.getElementById('game3-next-game');
                                                            if (nextGameBtn) {
                                                                nextGameBtn.style.display = "block";
                                                                // Fade in the next game button
                                                                setTimeout(() => {
                                                                    nextGameBtn.style.opacity = "1";
                                                                    nextGameBtn.style.transition = "opacity 3s ease-in-out";
                                                                    
                                                                    // Start 3-second countdown
                                                                    let count = 3;
                                                                    nextGameBtn.textContent = `‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÉ‡∏ô ${count} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
                                                                    nextGameBtn.disabled = true;
                                                                    
                                                                    const countdownInterval = setInterval(() => {
                                                                        count--;
                                                                        if (count >= 0) {
                                                                            nextGameBtn.textContent = `‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÉ‡∏ô ${count} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
                                                                        }
                                                                        
                                                                        if (count < 0) {
                                                                            clearInterval(countdownInterval);
                                                                            nextGameBtn.textContent = "‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ";
                                                                            nextGameBtn.disabled = false;
                                                                            
                                                                            // Automatically proceed to next game after countdown
                                                                            setTimeout(() => {
                                                                                startGame4();
                                                                            }, 100);
                                                                        }
                                                                    }, 1000);
                                                                }, 500);
                                                            }
                                                        }
                                                    }, 3000); // Wait 3 seconds after winner is fully visible
                                                }, 100);
                                            }, 1000); // Delay before showing winner
                                        }, 1200);
                                    }
                                
                                    // Show red/green overlay feedback based on whether player won
                                    const player = game3DataHTML.allPlayers.find(p => !p.isBot);
                                    if (player === winner) {
                                        // Player won - show green overlay
                                        showGame3OverlayFeedback(true);
                                    } else {
                                        // Player lost - show red overlay
                                        showGame3OverlayFeedback(false);
                                    }
                                
                                    // Update player scores
                                    game3DataHTML.allPlayers.forEach(p => {
                                        if (p !== winner && p.alive) {
                                            p.score--;
                                            if (p.score <= 0) p.alive = false;
                                        }
                                    });
                                
                                    renderGame3PlayersHTML();
                                
                                    // Check if player is dead
                                    // Check if player is dead
                                    if (!player.alive) {
                                        const overlay = document.getElementById('game3-overlay');
                                        if (overlay) {
                                            overlay.innerHTML = `üíÄ GAME OVER üíÄ<br><br>‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏°<br><br><button id="game3-restart-btn" style="margin-top:20px;padding:12px 28px;font-size:1.2rem;background:#222;color:#fff;border:2px solid #ff0000;border-radius:8px;cursor:pointer;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</button>`;
                                            overlay.style.display = "flex";
                                            // Add event for restart button
                                            setTimeout(() => {
                                                const restartBtn = document.getElementById('game3-restart-btn');
                                                if (restartBtn) {
                                                    restartBtn.onclick = function() {
                                                        overlay.style.display = "none";
                                                        initGame3HTML();
                                                    };
                                                }
                                            }, 100);
                                        }
                                        return;
                                    }
                                
                                    // Check if there's only one player left (including human player)
                                    const alivePlayers = game3DataHTML.allPlayers.filter(p => p.alive);
                                    if (alivePlayers.length === 1 && alivePlayers[0] === player) {
                                        // Player is the last one remaining
                                        // First show the result, then show the 3-second countdown
                                        setTimeout(() => {
                                            const overlay = document.getElementById('game3-overlay');
                                            if (overlay) {
                                                overlay.style.display = 'flex';
                                                let count = 3;
                                                overlay.innerHTML = `<div style='font-size:2rem;color:#ff0000;text-shadow:0 0 25px #ff0000;'>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô <span id='game3-next-countdown'>${count}</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...</div>`;
                                                const countdownSpan = document.getElementById('game3-next-countdown');
                                                const timer = setInterval(() => {
                                                    count--;
                                                    if (countdownSpan) countdownSpan.textContent = count;
                                                    if (count <= 0) {
                                                        clearInterval(timer);
                                                        overlay.style.display = 'none';
                                                        overlay.innerHTML = '';
                                                        startGame4();
                                                    }
                                                }, 1000);
                                            } else {
                                                // fallback: ‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                                                startGame4();
                                            }
                                        }, 3000); // Wait 3 seconds to show the result before showing the countdown
                                        // Disable number selection by clearing the board
                                        const board = document.getElementById('game3-board');
                                        if (board) board.innerHTML = '';
                                        return;
                                    }
                                
                                    // Prepare for next round
                                    game3DataHTML.round++;
                                    
                                    const nextRoundBtn = document.getElementById('game3-next-round');
                                    if (nextRoundBtn) {
                                        nextRoundBtn.style.display = "block";
                                        // Add event listener for next round button
                                        nextRoundBtn.onclick = () => startGame3RoundHTML();
                                    }
                                }
                                
                                function endGame3HTML() {
                                    const overlay = document.getElementById('game3-overlay');
                                    if (overlay) {
                                        overlay.innerHTML = "‚öñÔ∏è ‡πÄ‡∏Å‡∏°‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß ‚öñÔ∏è<br><br>‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô";
                                        overlay.style.display = "flex";
                                    }
                                    
                                    const restartBtn = document.getElementById('game3-restart');
                                    if (restartBtn) {
                                        restartBtn.style.display = "block";
                                        // Add fade-in effect for the restart button
                                        setTimeout(() => {
                                            restartBtn.style.opacity = "1";
                                            restartBtn.style.transition = "opacity 1s ease-in-out";
                                        }, 500);
                                    }
                                    
                                    // Check if player won the game
                                    const player = game3DataHTML.allPlayers.find(p => !p.isBot);
                                    const alivePlayers = game3DataHTML.allPlayers.filter(p => p.alive);
                                    
                                    // Only show next game button if player is still alive
                                    if (player.alive) {
                                        const nextGameBtn = document.getElementById('game3-next-game');
                                        if (nextGameBtn) {
                                            nextGameBtn.style.display = "block";
                                            // Fade in the next game button with proper CSS transition
                                            setTimeout(() => {
                                                nextGameBtn.style.opacity = "1";
                                                nextGameBtn.style.transition = "opacity 1s ease-in-out";
                                            }, 500);
                                        }
                                    }
                                }
                                
                                function showGame3NextButtonHTML() {
                                    const buttonsContainer = document.getElementById('game3-buttons');
                                    if (!buttonsContainer) return;
                                    
                                    buttonsContainer.innerHTML = '';
                                    // Countdown 3 seconds then auto start next game
                                    const countdownDiv = document.createElement("div");
                                    countdownDiv.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...";
                                    countdownDiv.style.color = "#ff0000";
                                    countdownDiv.style.fontSize = "2rem";
                                    buttonsContainer.appendChild(countdownDiv);
                                    let count = 3;
                                    const interval = setInterval(() => {
                                        count--;
                                        countdownDiv.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô ${count} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...`;
                                        if (count <= 0) {
                                            clearInterval(interval);
                                            startGame4();
                                        }
                                    }, 1000);
                                }
                                
                                function randRangeHTML(min, max) {
                                    return Math.floor(Math.random() * (max - min + 1)) + min;
                                }
                                
                                // Function to show red/green overlay feedback for Game 3
                                function showGame3OverlayFeedback(isCorrect) {
                                    const overlay = document.createElement("div");
                                    overlay.style.position = "fixed";
                                    overlay.style.top = "0";
                                    overlay.style.left = "0";
                                    overlay.style.width = "100%";
                                    overlay.style.height = "100%";
                                    overlay.style.zIndex = "9999";
                                    overlay.style.opacity = "0.7";
                                    
                                        if (isCorrect) {
                                            overlay.style.background = "#00ff00"; // Green for correct
                                            // Play correct sound
                                            const correctSound = new Audio('mp3/Correct.mp3');
                                            correctSound.play().catch(e => console.log("Correct sound play failed:", e));
                                        } else {
                                            overlay.style.background = "#ff0000"; // Red for wrong
                                            // Play wrong sound
                                            const wrongSound = new Audio('mp3/wrong.mp3');
                                            wrongSound.play().catch(e => console.log("Wrong sound play failed:", e));
                                        }
                                    
                                    document.body.appendChild(overlay);
                                    
                                    // Remove overlay after 500ms
                                    setTimeout(() => {
                                        if (overlay.parentNode) {
                                            overlay.parentNode.removeChild(overlay);
                                        }
                                    }, 500);
                                }
                                
                                function typeWriter4(text){
                                    let i=0;
                                    const speed=40;
                                    const msg=document.getElementById("message");
                                    msg.innerHTML="";
                                    (function writer(){
                                        if(i<text.length){
                                            msg.innerHTML += text.charAt(i);
                                            i++;
                                            setTimeout(writer,speed);
                                        }
                                    })();
                                }

                                // Function to show red/green overlay feedback for Game 4
                                function showGame4OverlayFeedback(isCorrect) {
                                    const overlay = document.createElement("div");
                                    overlay.style.position = "fixed";
                                    overlay.style.top = "0";
                                    overlay.style.left = "0";
                                    overlay.style.width = "100%";
                                    overlay.style.height = "100%";
                                    overlay.style.zIndex = "9999";
                                    overlay.style.opacity = "0.7";
                                    
                                         if (isCorrect) {
                                            overlay.style.background = "#00ff00"; // Green for correct
                                            // Play correct sound
                                            const correctSound = new Audio('mp3/Correct.mp3');
                                            correctSound.play().catch(e => console.log("Correct sound play failed:", e));
                                        } else {
                                            overlay.style.background = "#ff0000"; // Red for wrong
                                            // Play wrong sound
                                            const wrongSound = new Audio('mp3/wrong.mp3');
                                            wrongSound.play().catch(e => console.log("Wrong sound play failed:", e));
                                        }
                                    
                                    document.body.appendChild(overlay);
                                    
                                    // Remove overlay after 500ms
                                    setTimeout(() => {
                                        if (overlay.parentNode) {
                                            overlay.parentNode.removeChild(overlay);
                                        }
                                    }, 500);
                                }
                                
                                // Function to start game 4
                                function startGame4() {
                                    // Show the main container for game 4
                                    const mainContainer = document.querySelector('.main-container');
                                    if (mainContainer) {
                                        // Implement game 4 as the Life or Death Door Game
                                        mainContainer.innerHTML = `
                                            <div id="game4-container" style="background: radial-gradient(circle at center, #000, #111 90%); color: #eee; font-family: 'Courier New', monospace; text-align: center; padding: 40px; height: 100%; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; overflow: hidden; position: relative;">
                                                <h1 style="color: #ff3333; text-shadow: 0 0 15px #ff3333; margin-bottom: 10px; animation: flicker 2s infinite;"><span style="color: #ccc;">‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 4 </span>‡πÄ‡∏Å‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏¢ üö™</h1>
                                                <div id="status" style="margin-bottom: 20px; font-size: 1.2rem; color: #ffaa00; text-shadow: 0 0 10px #ff3333;"></div>
                                                <div id="hint" style="margin: 20px auto; padding: 12px; border: 1px dashed #555; width: 60%; font-size: 1.1rem; white-space: pre-line; color: #ffccaa; text-shadow: 0 0 8px #ff3333; min-height: 40px;"></div>
                                                <div id="doors" style="display: flex; justify-content: center; gap: 60px; margin: 30px 0;">
                                                    <div class="door" id="doorA" data-choice="A" 
                                                        style="width: 300px; height: 600px; background-size: cover; background-position: center; border: none; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; background-image: url('./img/door/3.png');"></div>
                                                    <div class="door" id="doorB" data-choice="B" 
                                                        style="width: 300px; height: 600px; background-size: cover; background-position: center; border: none; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; background-image: url('./img/door/4.png');"></div>
                                                </div>
                                                <div id="message" style="margin-top: 20px; font-size: 1.3rem; min-height: 60px;"></div>
                                                <button id="restart" style="margin-top: 20px; padding: 12px 25px; background: none; border: 1px solid #ff3333; color: #eee; cursor: pointer; display: none;">üîÅ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
                                                <button id="next-game4-btn" class="game-button" style="margin-top: 30px; padding: 15px 40px; font-size: 1.2rem; background: none; border: 1px solid #ff0000; color: #ff0000; cursor: pointer; border-radius: 8px; display: none;">‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà 5</button>
                                            </div>
                                        `;
                                        
                                        // Add flicker animation style
                                        const flickerStyle = document.createElement('style');
                                        flickerStyle.innerHTML = `
                                            @keyframes flicker {
                                                0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {opacity:1;}
                                                20%, 24%, 55% {opacity:0.4;}
                                            }
                                            
                                            .door:hover {
                                                transform: scale(1.05);
                                                box-shadow: 0 0 20px #ff3333;
                                            }
                                            
                                            #restart:hover {
                                                background: rgba(255,50,50,0.2);
                                                box-shadow: 0 0 12px #ff3333;
                                            }
                                        `;
                                        document.head.appendChild(flickerStyle);
                                        
                                        // Initialize game 4 (Life or Death Door Game)
                                        initGame4HTML();
                                        
                                        // Add event listeners for the doors
                                        setTimeout(function() {
                                            const doors = document.querySelectorAll(".door");
                                            doors.forEach(door => {
                                                door.onclick = () => {
                                                    // Prevent double clicks
                                                    if (!game4DataHTML.isProcessing) {
                                                        checkChoice4(door.dataset.choice);
                                                    }
                                                };
                                            });
                                            document.getElementById("restart").onclick = () => {
                                                // Prevent double clicks on restart button
                                                if (!game4DataHTML.isProcessing) {
                                                    initGame4HTML();
                                                }
                                            };
                                        }, 100);
                                        
                                        // Add event listener for next game button
                                        setTimeout(() => {
                                            const nextBtn = document.getElementById('next-game4-btn');
                                            if (nextBtn) {
                                                nextBtn.onclick = function() {
                                                    startGame5();
                                                };
                                            }
                                        }, 100);
                                    }
                                }
                                
                                // Game 4 implementation in HTML (Life or Death Door Game)
                                let game4DataHTML = {
                                    safeDoor: "",
                                    round: 1,
                                    totalRounds: 3,
                                    isProcessing: false, // Flag to prevent double clicks
                                    hintsPool: [
                                        d => `‡∏õ‡∏£‡∏∞‡∏ï‡∏π ${d} ‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≤‡∏á‡∏£‡∏≠‡∏î`,
                                        d => `‡∏õ‡∏£‡∏∞‡∏ï‡∏π ${d} ‡∏à‡∏∞‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏™‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏¢`,
                                        () => `‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢`,
                                        () => `‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÇ‡∏Å‡∏´‡∏Å`,
                                         d => `‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏à‡∏õ‡∏£‡∏∞‡∏ï‡∏π ${d} ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏ï‡∏≤‡∏¢ ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠ ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏£‡∏≠‡∏î`,
    d => `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏ï‡∏π ${d}‚Ä¶ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà`,
    () => `‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ï‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ñ‡∏∂‡∏á ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏¥‡∏î`,
    () => `‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î`,
    () => `‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡πÇ‡∏Å‡∏´‡∏Å‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ`,
    () => `‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÑ‡∏´‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á`
                                    ]
                                };
                                
                                function initGame4HTML() {
                                    // Prevent double clicks on restart
                                    if (game4DataHTML.isProcessing) return;
                                    game4DataHTML.isProcessing = true;
                                    
                                    game4DataHTML.round = 1;
                                    setupRound4();
                                    document.getElementById("message").innerHTML = "";
                                    document.getElementById("restart").style.display="none";
                                    document.getElementById("next-game4-btn").style.display="none";
                                    
                                    // Re-enable door clicks when game is restarted
                                    const doors = document.querySelectorAll(".door");
                                    doors.forEach(door => {
                                        door.style.pointerEvents = "auto";
                                        door.style.opacity = "1";
                                    });
                                    
                                    // Reset processing flag after a delay
                                    setTimeout(() => {
                                        game4DataHTML.isProcessing = false;
                                    }, 500);
                                }
                                
                                function setupRound4() {
                                    game4DataHTML.safeDoor = Math.random()<0.5 ? "A" : "B";
                                    document.getElementById("status").innerText = `‡∏£‡∏≠‡∏ö ${game4DataHTML.round} / ${game4DataHTML.totalRounds}`;
                                    document.getElementById("message").innerHTML = "";

                                    // ‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ
                                    const randomHintFunc = game4DataHTML.hintsPool[Math.floor(Math.random()*game4DataHTML.hintsPool.length)];
                                    const doorRef = Math.random()<0.5 ? "A" : "B";
                                    let hintText = randomHintFunc(doorRef);
                                    
                                    // ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ 40% ‡∏ó‡∏µ‡πà‡πÇ‡∏Å‡∏´‡∏Å
                                    if (Math.random() < 0.4) {
                                        if (hintText.includes("‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≤‡∏á‡∏£‡∏≠‡∏î")) {
                                            hintText = hintText.replace("‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≤‡∏á‡∏£‡∏≠‡∏î","‡∏à‡∏∞‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏™‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏¢");
                                        } else if (hintText.includes("‡∏à‡∏∞‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏™‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏¢")) {
                                            hintText = hintText.replace("‡∏à‡∏∞‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏™‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏¢","‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≤‡∏á‡∏£‡∏≠‡∏î");
                                        }
                                    }
                                    
                                    document.getElementById("hint").innerText = "‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ: " + hintText;
                                }

                                function checkChoice4(choice) {
                                    // Prevent double clicks
                                    if (game4DataHTML.isProcessing) return;
                                    game4DataHTML.isProcessing = true;
                                    
                                    if(choice===game4DataHTML.safeDoor){
                                        // Show green overlay for correct choice
                                        showGame4OverlayFeedback(true);
                                        
                                        if (game4DataHTML.round < game4DataHTML.totalRounds) {
                                            typeWriter4(`‚úÖ ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏≠‡∏î‡πÉ‡∏ô‡∏£‡∏≠‡∏ö ${game4DataHTML.round}...`);
                                            game4DataHTML.round++;
                                            setTimeout(() => {
                                                setupRound4();
                                                game4DataHTML.isProcessing = false;
                                            }, 2000);
                                        } else {
                                            // Show fade-in success message instead of typewriter
                                            const messageElement = document.getElementById("message");
                                            if (messageElement) {
                                                messageElement.innerHTML = "";
                                                
                                                // Create and fade in the first message
                                                const winMessage = document.createElement("div");
                                                winMessage.textContent = "üéâ ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á! üéâ";
                                                winMessage.style.color = "#00ff00";
                                                winMessage.style.opacity = "0";
                                                winMessage.style.transition = "opacity 1s ease-in";
                                                winMessage.style.marginBottom = "20px";
                                                messageElement.appendChild(winMessage);
                                                
                                                // Fade in the first message
                                                setTimeout(() => {
                                                    winMessage.style.opacity = "1";
                                                }, 100);
                                                
                                                // Create and fade in the second message after a delay
                                                setTimeout(() => {
                                                    const nextMessage = document.createElement("div");
                                                    nextMessage.textContent = "‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç";
                                                     winMessage.style.color = "#00ff00";
                                                    nextMessage.style.opacity = "0";
                                                    nextMessage.style.transition = "opacity 1s ease-in";
                                                    nextMessage.style.marginTop = "20px";
                                                    nextMessage.style.fontSize = "1.2rem";
                                                    messageElement.appendChild(nextMessage);
                                                    
                                                    // Fade in the second message
                                                    setTimeout(() => {
                                                        nextMessage.style.opacity = "1";
                                                    }, 100);
                                                    
                                                    // Start 3-second countdown after messages are fully visible
                                                    setTimeout(() => {
                                                        // Restore normal theme before proceeding to gift randomizer
                                                        restoreNormalTheme();
                                                        
                                                        // Add overlay with countdown
                                                        const game4Container = document.getElementById('game4-container');
                                                        if (game4Container) {
                                                            const overlay = document.createElement('div');
                                                            overlay.id = 'game4-next-overlay';
                                                            overlay.style.position = 'fixed';
                                                            overlay.style.top = '0';
                                                            overlay.style.left = '0';
                                                            overlay.style.width = '100vw';
                                                            overlay.style.height = '100vh';
                                                            overlay.style.background = 'rgba(0,0,0,0.95)';
                                                            overlay.style.zIndex = '99999';
                                                            overlay.style.display = 'flex';
                                                            overlay.style.flexDirection = 'column';
                                                            overlay.style.justifyContent = 'center';
                                                            overlay.style.alignItems = 'center';
                                                            overlay.innerHTML = `<div style='font-size:2rem;color:#ff0000;text-shadow:0 0 25px #ff0000;'>‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÉ‡∏ô <span id='game4-next-countdown'>3</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...</div>`;
                                                            document.body.appendChild(overlay);
                                                            let count = 3;
                                                            const countdownSpan = overlay.querySelector('#game4-next-countdown');
                                                            const timer = setInterval(() => {
                                                                count--;
                                                                if (countdownSpan) countdownSpan.textContent = count;
                                                                if (count <= 0) {
                                                                    clearInterval(timer);
                                                                    if (overlay.parentNode) overlay.parentNode.removeChild(overlay);
                                                                    startGame5();
                                                                }
                                                            }, 1000);
                                                        } else {
                                                            // fallback: ‡πÑ‡∏õ‡πÄ‡∏Å‡∏° 5 ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                                                            startGame5();
                                                        }
                                                    }, 3000); // Wait 3 seconds after messages are fully visible
                                                }, 1000); // Delay before showing second message
                                            }
                                        }
                                    } else {
                                        // Show red overlay for wrong choice
                                        showGame4OverlayFeedback(false);
                                        
                                        typeWriter4(`‚ùå ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏≠‡∏ö ${game4DataHTML.round}... ‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß`);
                                        document.getElementById("restart").style.display="inline-block";
                                        
                                        // Disable door clicks when player dies
                                        const doors = document.querySelectorAll(".door");
                                        doors.forEach(door => {
                                            door.style.pointerEvents = "none";
                                            door.style.opacity = "0.3";
                                        });
                                        
                                        // Reset processing flag after a delay
                                        setTimeout(() => {
                                            game4DataHTML.isProcessing = false;
                                        }, 1000);
                                    }
                                }

                                function typeWriter4(text){
                                    let i=0;
                                    const speed=40;
                                    const msg=document.getElementById("message");
                                    msg.innerHTML="";
                                    (function writer(){
                                        if(i<text.length){
                                            msg.innerHTML += text.charAt(i);
                                            i++;
                                            setTimeout(writer,speed);
                                        }
                                    })();
                                }


                                
                                // Function to start game 5 (Rock-Paper-Scissors)
                                function startGame5() {
                                    // Show the main container for game 5
                                    const mainContainer = document.querySelector('.main-container');
                                    if (mainContainer) {
                                        // Implement game 5 as Rock-Paper-Scissors
                                        mainContainer.innerHTML = `
                                            <div style="text-align: center;">
                    <h3>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h3>
                    <div id="gift-result">
                        <div id="image-container" style="display: flex; justify-content: center; align-items: center; min-height: 200px;">
                            <div class="gift-icon">
                                <i class="fa-solid fa-gift" style="font-size: 4rem; color: var(--hot-pink);"></i>
                            </div>
                        </div>
                    </div>
                    <p id="gift-congrats">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</p>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn" id="random-gift-btn" onclick="randomizeGift()">‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</button>
                </div>
                                        `;
                                    }
                                }
                                
                                function restoreNormalTheme() {
                                    // Remove dark theme styles
                                    document.body.style.background = '';
                                    document.body.style.color = '';
                                    
                                    // Reset any other dark theme specific styles if needed
                                    const mainContainer = document.querySelector('.main-container');
                                    if (mainContainer) {
                                        mainContainer.style.background = '';
                                    }
                                }
                            }
                        </script>
                    </div>
                </div>
            </div>
            


            
            <!-- Step 5: Gift Randomizer -->
            <!-- <div class="step-section" id="step5">
                <div style="text-align: center;">
                    <h3>‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ò‡∏≠</h3>
                    <div id="gift-result">
                        <div id="image-container" style="display: flex; justify-content: center; align-items: center; min-height: 200px;">
                            <div class="gift-icon">
                                <i class="fa-solid fa-gift" style="font-size: 4rem; color: var(--hot-pink);"></i>
                            </div>
                        </div>
                    </div>
                    <p id="gift-congrats">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</p>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="showStep(4)">&larr; ‡∏Å‡∏•‡∏±‡∏ö</button>
                    <button class="nav-btn" id="random-gift-btn" onclick="randomizeGift()">‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</button>
                    <button class="nav-btn" onclick="showStep(1)">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
                </div>
            </div> -->
            
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
</html>